<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.smart_grade.admin.AdminMapper">
    <insert id="student_enrollment">
        insert student
        (istudent,password,imajor,name,gender,birthdate,phone,email,address)
        select #{istudent}+max(istudent)+1,#{password},#{imajor}
            ,#{name},#{gender},#{birthdate},#{phone}
            ,#{email},#{address}
        from student
        where imajor = #{imajor}

    </insert>

</mapper>